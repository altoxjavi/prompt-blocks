<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ğŸŒ Prompt Blocks - Nano Banana Pro Prompt Builder</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/panels.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
  <!-- ============ HEADER ============ -->
  <header class="app-header">
    <div>
      <h1 class="app-title">ğŸŒ Prompt Blocks</h1>
      <p class="app-subtitle">Nano Banana Pro Prompt Builder</p>
    </div>
    <div class="header-actions">
      <button class="blueprint-btn" id="blueprintBtn">
        ğŸ‘¤ Portrait
      </button>
      <button class="edit-btn" id="editBtn">
        âœï¸ Edit
      </button>
      <button class="fullscreen-btn" id="fullscreenBtn">
        â›¶ Fullscreen
      </button>
      <button onclick="window.open('https://aistudio.google.com', '_blank')">
        AI Studio â†’
      </button>
    </div>
  </header>
  
  <!-- ============ MAIN LAYOUT ============ -->
  <main class="app-main">
    
    <!-- Library Panel -->
    <aside class="library-panel" id="libraryPanel">
      <div class="library-header">
        <h2>ğŸ“š Phrase Library</h2>
        <p class="library-subtitle">Hold + drag to slots</p>
        <button class="add-from-blueprint-btn" data-action="openAddFolderModal">ğŸ“‚ Add Folder from Blueprint</button>
      </div>
      <div class="library-categories" id="libraryCategories">
        <!-- Generated by JS -->
      </div>
      <div class="trash-bin" id="trashBin">
        <div class="trash-bin-target" id="trashBinTarget">
          <span class="trash-icon">ğŸ—‘ï¸</span>
          Drop here to delete
        </div>
      </div>
    </aside>
    
    <!-- Builder Panel -->
    <section class="builder-panel">
      <div class="builder-header">
        <h2>ğŸ§± Build Your Prompt</h2>
        <button class="clear-btn">Clear All</button>
      </div>
      
      <div class="ref-images-section">
        <div class="ref-images-header">ğŸ“¸ Reference Images</div>
        <div class="ref-images-grid" id="refImagesGrid">
          <!-- Generated by JS -->
        </div>
      </div>
      
      <div class="slots-container" id="slotsContainer">
        <!-- Generated by JS -->
      </div>
    </section>
    
    <!-- Preview Panel -->
    <aside class="preview-panel">
      <div class="preview-header">
        <h2>ğŸ“ Generated Prompt</h2>
        <div class="preview-actions">
          <button class="copy-btn" id="copyBtn">ğŸ“‹ Copy</button>
        </div>
      </div>
      <pre class="preview-content empty" id="previewContent">Start adding phrases to build your prompt...</pre>
      
      <div class="template-bar">
        <div class="template-current" id="templateCurrent">ğŸ“„ Untitled Prompt</div>
        <div class="template-actions">
          <div class="save-form" id="saveForm">
            <input type="text" id="saveNameInput" placeholder="Template name...">
            <button data-action="saveTemplate">Save</button>
            <button data-action="hideSaveForm">âœ•</button>
          </div>
          <button id="saveBtn">ğŸ’¾ Save</button>
          <select class="template-select" id="templateSelect" data-action="loadTemplate">
            <option value="">ğŸ“‚ Load...</option>
          </select>
        </div>
      </div>
    </aside>
  </main>
  
  <!-- ============ HIDDEN INPUTS ============ -->
  <input type="file" accept="image/*" class="hidden-input" id="imageInput">
  <input type="file" accept=".json" class="hidden-input" id="blueprintFileInput">
  
  <!-- ============ DRAG GHOST ============ -->
  <div class="drag-ghost" id="dragGhost" style="display: none;"></div>
  
  <!-- ============ TOAST ============ -->
  <div class="toast" id="toast">âœ“ Copied to clipboard!</div>
  
  <!-- ============ COLOR PICKER MODAL ============ -->
  <div class="color-picker-overlay" id="colorPickerOverlay"></div>
  <div class="color-picker-popover" id="colorPickerModal">
    <div class="color-picker-title">Choose Color</div>
    <div class="color-picker-grid" id="colorPickerGrid">
      <!-- Generated by JS -->
    </div>
  </div>
  
  <!-- ============ FOLDER MODAL ============ -->
  <div class="modal-overlay" id="folderModal">
    <div class="modal">
      <h3>Create New Folder</h3>
      <label>Folder Name</label>
      <input type="text" id="newFolderName" placeholder="e.g., Backgrounds">
      <label>Icon</label>
      <div class="emoji-picker" id="emojiPicker">
        <div class="emoji-option selected" data-emoji="ğŸ“">ğŸ“</div>
        <div class="emoji-option" data-emoji="ğŸ¨">ğŸ¨</div>
        <div class="emoji-option" data-emoji="âœ¨">âœ¨</div>
        <div class="emoji-option" data-emoji="ğŸŒŸ">ğŸŒŸ</div>
        <div class="emoji-option" data-emoji="ğŸ”®">ğŸ”®</div>
        <div class="emoji-option" data-emoji="ğŸ­">ğŸ­</div>
        <div class="emoji-option" data-emoji="ğŸŒˆ">ğŸŒˆ</div>
        <div class="emoji-option" data-emoji="âš¡">âš¡</div>
        <div class="emoji-option" data-emoji="ğŸ”¥">ğŸ”¥</div>
        <div class="emoji-option" data-emoji="ğŸ’«">ğŸ’«</div>
        <div class="emoji-option" data-emoji="ğŸ¯">ğŸ¯</div>
        <div class="emoji-option" data-emoji="ğŸ’¡">ğŸ’¡</div>
      </div>
      <div class="modal-actions">
        <button class="cancel-btn" data-action="closeFolderModal">Cancel</button>
        <button class="confirm-btn" data-action="createNewFolder">Create</button>
      </div>
    </div>
  </div>
  
  <!-- ============ BLUEPRINT MODAL ============ -->
  <div class="blueprint-overlay" id="blueprintOverlay"></div>
  <div class="blueprint-modal" id="blueprintModal">
    <div class="blueprint-modal-header">
      <h3>ğŸ“‹ Blueprints</h3>
      <button class="blueprint-close-btn" data-action="closeBlueprintModal">Ã—</button>
    </div>
    <div class="blueprint-modal-description">
      Choose a prompt structure template
    </div>
    <div class="blueprint-grid" id="blueprintGrid">
      <!-- Generated by JS -->
    </div>
    <div class="blueprint-modal-actions">
      <button class="blueprint-import-btn" data-action="importBlueprintBtn">ğŸ“¤ Import Blueprint</button>
      <button class="blueprint-save-btn" data-action="saveBlueprintBtn">ğŸ’¾ Save Current as Blueprint</button>
    </div>
  </div>
  
  <!-- ============ ADD FOLDER FROM BLUEPRINT MODAL ============ -->
  <div class="add-folder-overlay" id="addFolderOverlay"></div>
  <div class="add-folder-modal" id="addFolderModal">
    <div class="add-folder-modal-header">
      <h3>ğŸ“‚ Add Folder from Blueprint</h3>
      <button class="blueprint-close-btn" data-action="closeAddFolderModal">Ã—</button>
    </div>
    <div class="add-folder-modal-description">
      Select a folder to add to your current structure
    </div>
    <div class="add-folder-grid" id="addFolderGrid">
      <!-- Generated by JS -->
    </div>
  </div>
  
  <!-- ============ APPLICATION SCRIPT ============ -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
